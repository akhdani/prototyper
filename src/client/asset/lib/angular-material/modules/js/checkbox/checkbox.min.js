(function(window,angular,undefined){"use strict";angular.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",MdCheckboxDirective);function MdCheckboxDirective(inputDirective,$mdInkRipple,$mdAria,$mdConstant,$mdTheming,$mdUtil,$timeout){inputDirective=inputDirective[0];var CHECKED_CSS="md-checked";return{restrict:"E",transclude:true,require:"?ngModel",priority:210,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox>'+'<div class="md-icon"></div>'+"</div>"+'<div ng-transclude class="md-label"></div>',compile:compile};function compile(tElement,tAttrs){tAttrs.type="checkbox";tAttrs.tabindex=tAttrs.tabindex||"0";tElement.attr("role",tAttrs.type);return function postLink(scope,element,attr,ngModelCtrl){ngModelCtrl=ngModelCtrl||$mdUtil.fakeNgModel();$mdTheming(element);if(attr.ngChecked){scope.$watch(scope.$eval.bind(scope,attr.ngChecked),ngModelCtrl.$setViewValue.bind(ngModelCtrl))}$$watchExpr("ngDisabled","tabindex",{"true":"-1","false":attr.tabindex});$mdAria.expectWithText(element,"aria-label");inputDirective.link.pre(scope,{on:angular.noop,0:{}},attr,[ngModelCtrl]);scope.mouseActive=false;element.on("click",listener).on("keypress",keypressHandler).on("mousedown",function(){scope.mouseActive=true;$timeout(function(){scope.mouseActive=false},100)}).on("focus",function(){if(scope.mouseActive===false){element.addClass("md-focused")}}).on("blur",function(){element.removeClass("md-focused")});ngModelCtrl.$render=render;function $$watchExpr(expr,htmlAttr,valueOpts){if(attr[expr]){scope.$watch(attr[expr],function(val){if(valueOpts[val]){element.attr(htmlAttr,valueOpts[val])}})}}function keypressHandler(ev){var keyCode=ev.which||ev.keyCode;if(keyCode===$mdConstant.KEY_CODE.SPACE||keyCode===$mdConstant.KEY_CODE.ENTER){ev.preventDefault();if(!element.hasClass("md-focused")){element.addClass("md-focused")}listener(ev)}}function listener(ev){if(element[0].hasAttribute("disabled"))return;scope.$apply(function(){var viewValue=attr.ngChecked?attr.checked:!ngModelCtrl.$viewValue;ngModelCtrl.$setViewValue(viewValue,ev&&ev.type);ngModelCtrl.$render()})}function render(){if(ngModelCtrl.$viewValue){element.addClass(CHECKED_CSS)}else{element.removeClass(CHECKED_CSS)}}}}}MdCheckboxDirective.$inject=["inputDirective","$mdInkRipple","$mdAria","$mdConstant","$mdTheming","$mdUtil","$timeout"]})(window,window.angular);